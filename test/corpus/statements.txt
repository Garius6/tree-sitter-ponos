===========
Imports and variables
===========
использовать "стд/фс" как фс;
пер x: число;
пер y = 10;
пер z: строка = "привет";
---

(source_file
  (import_statement
    (string)
    (identifier))
  (var_statement
    (identifier)
    (type_annotation
      (identifier)))
  (var_statement
    (identifier)
    (primary_expression
      (number)))
  (var_statement
    (identifier)
    (type_annotation
      (identifier))
    (primary_expression
      (string))))

===========
Functions and returns
===========
функ сумма(a: число, b) : число
    возврат a + b;
конец

пер удвоить = функ(x) возврат x * 2; конец;
---

(source_file
  (function_declaration
    (identifier)
    (params_list
      (parameter
        (identifier)
        (type_annotation
          (identifier)))
      (parameter
        (identifier)))
    (type_annotation
      (identifier))
    (return_statement
      (binary_expression
        (primary_expression
          (identifier))
        (primary_expression
          (identifier)))))
  (var_statement
    (identifier)
    (lambda_expression
      (params_list
        (parameter
          (identifier)))
      (return_statement
        (binary_expression
          (primary_expression
            (identifier))
          (primary_expression
            (number)))))))

===========
Control flow and exceptions
===========
если x > 0
    возврат x;
иначе
    попытка
        исключение "boom";
    перехват err
        вывести(err);
    конец
конец

пока истина
    x = x - 1;
конец
---

(source_file
  (if_statement
    (binary_expression
      (primary_expression
        (identifier))
      (primary_expression
        (number)))
    (return_statement
      (primary_expression
        (identifier)))
    (try_statement
      (throw_statement
        (primary_expression
          (string)))
      (identifier)
      (expression_statement
        (call_expression
          (primary_expression
            (identifier))
          (arguments
            (primary_expression
              (identifier)))))))
  (while_statement
    (primary_expression
      (bool))
    (assignment_statement
      (identifier)
      (binary_expression
        (primary_expression
          (identifier))
        (primary_expression
          (number))))))

===========
Classes and interfaces
===========
экспорт класс Точка наследует Фигура реализует Движимый, Видимый
    x: число
    y: число;
    конструктор(x: число, y: число)
        это.x = x;
        это.y = y;
    конец
    функ длина(): число
        возврат sqrt(это.x * это.x + это.y * это.y);
    конец
конец

интерфейс Рисуемый
    функ рисовать();
    функ стереть(чем);
конец
---

(source_file
  (class_declaration
    (identifier)
    (identifier)
    (identifier)
    (identifier)
    (class_member
      (field_declaration
        (identifier)
        (type_annotation
          (identifier))))
    (class_member
      (field_declaration
        (identifier)
        (type_annotation
          (identifier))))
    (class_member
      (constructor_declaration
        (params_list
          (parameter
            (identifier)
            (type_annotation
              (identifier)))
          (parameter
            (identifier)
            (type_annotation
              (identifier))))
        (assignment_statement
          (field_expression
            (primary_expression
              (this_expression))
            (identifier))
          (primary_expression
            (identifier)))
        (assignment_statement
          (field_expression
            (primary_expression
              (this_expression))
            (identifier))
          (primary_expression
            (identifier)))))
    (class_member
      (function_declaration
        (identifier)
        (params_list)
        (type_annotation
          (identifier))
        (return_statement
          (call_expression
            (primary_expression
              (identifier))
            (arguments
              (binary_expression
                (binary_expression
                  (field_expression
                    (primary_expression
                      (this_expression))
                    (identifier))
                  (field_expression
                    (primary_expression
                      (this_expression))
                    (identifier)))
                (binary_expression
                  (field_expression
                    (primary_expression
                      (this_expression))
                    (identifier))
                  (field_expression
                    (primary_expression
                      (this_expression))
                    (identifier))))))))))
  (interface_declaration
    (identifier)
    (method_signature
      (identifier)
      (params_list))
    (method_signature
      (identifier)
      (params_list
        (parameter
          (identifier))))))

===========
Annotations (declarations)
===========
экспорт аннотация Тест
    пер имя = "ok";
конец
---

(source_file
  (annotation_declaration
    (identifier)
    (var_statement
      (identifier)
      (primary_expression
        (string)))))
